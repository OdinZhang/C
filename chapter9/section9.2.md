# 文件的打开和关闭

#### 1. 文件的打开

打开文件使用`fopen()`，调用的一般形式为：

`文件指针名 = fopen(文件名,文件使用方式);`

|  文件类型  | 方式 | 处理操作 |                       含义                       |
| :--------: | :--: | :------: | :----------------------------------------------: |
|  文本文件  |  r   |   只读   |          打开一个文本文件，只允许读数据          |
|  文本文件  |  b   |   只写   |       打开或建立一个文本文件，只允许写数据       |
|  文本文件  |  a   |   追加   |       打开一个文本文件，并在文件末尾写数据       |
|  文本文件  |  r+  |  读/写   |           打开一个文本文件，允许读和写           |
|  文本文件  |  w+  |  读/写   |        打开或建立一个文本文件，允许读/写         |
|  文本文件  |  a+  |  读/写   |  打开一个文本文件，允许读，或在文件末尾追加数据  |
| 二进制文件 |  rb  |   只读   |         打开一个二进制文件，只允许读数据         |
| 二进制文件 |  wb  |   只写   |      打开或建立一个二进制文件，只允许写数据      |
| 二进制文件 |  ab  |   追加   |      打开一个二进制文件，并在文件末尾写数据      |
| 二进制文件 | rb+  |  读/写   |          打开一个二进制文件，允许读和写          |
| 二进制文件 | wb+  |  读/写   |       打开或建立一个二进制文件，允许读/写        |
| 二进制文件 | ab+  |  读/写   | 打开一个二进制文件，允许读，或在文件末尾追加数据 |

> [info] **说明**
>
> 系统自动定义以下三个文件指针：
>
> stdin：标准输入文件指针
>
> stdout：标准输出文件指针
>
> stderr：标准错误文件指针

#### 2. 文件的关闭

一般使用`fclose()`函数把文件关闭，调用一般形式为：

`fclose(文件指针);`

文件在正常关闭时返回0，出错时返回EOF(-1)