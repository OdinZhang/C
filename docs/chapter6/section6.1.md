# 函数的定义、调用和声明

#### 1. 函数的定义和调用

函数的定义形式如下:

```c
函数头
{
	函数体
}
```



1. 函数头：
   C程序通过函数头来调用函数，其形式如下:
   `类型名 函数名(形参表列)`
   类型名是函数返回值的类型，无返回值的函数是void型，而函数头中类型名缺省的函数返回int型。

   函数名是函数的标识，必须是合法的C标识符

   括号中的形参表列是0个或多个以逗号分隔的形式参数，它定义了调用该函数时必须送给该函数的数据类型及数据个数，之所以称为形式参数，是因为函数不被调用时，系统不给这些参数分配存储空间，只在调用发生时，才分配空间，调用结束后，系统又收回空间。注意，函数头后面没有分号，就像`main()`函数头后也没有分号一样

2. 函数体：
   函数体是用一对花括号括起来的语句系列（语句块），它描述了函数实现某一功能的执行过程，函数最后要执行返回，返回的作用是：

   1. 将程序的执行从当前函数返回其上级（调用它的函数）
   2. 释放该函数的参数及变量所占用的内存空间
   3. 向函数返回一个值（如果函数的类型不是void时）

   当函数要返回一个值时，必须通过 return语句返回，其形式如下:

    `return (表达式);`

   表达式的类型应该和函数定义时函数名前的类型一致，有冲突时，服从于函数名前的类型， return后的括号可有可无

   C函数只能通过一个return语句返回一个值，所有return语句的返回值类型应与函数名前的类型一致。这个函数虽然有两个`return`语句，但执行时只可执行到一个`return`语句

   函数只完成某一功能，而不返回任何值时，可将函数定义成void类型，在这种函数中return语句可有可无，函数执行完后都执行返回功能

   在一个程序中不能出现同名的多个函数定义且函数体内不能再定义函数，即不能嵌套定义

   函数的定义就是给出函数的名字，函数的返回值类型，函数的形参名字与类型，函数的实现语句（函数体）

   在函数体中也可以没有任何语句，这种函数称为空函数

#### 2. 函数原型、函数声明与函数调用

1. 函数原型：

   调用函数时，系统需要知道下列信息：

   * 函数类型
   * 函数名
   * 函数的参数（个数、类型及顺序）

   知道这些信息后，系统就可以找到该函数。这些信息描述了函数的模型，是函数的用户界面，称为函数原型

2. 函数的声明：

   在函数调用前，C系统需要知道函数的原型，才能保证函数的正确调用，因此当函数调用在前，定义在后时（当函数为int型时，也可不声明），必须用函数原型声明，以便C系统获取相关信息。声明时参数名可以缺省，但类型名不可以缺省

   声明中的参数名相当于注释，以便系统检查调用时实参的位置，所以可以缺省

3. 函数的调用：

   函数的定义只是说明了函数的存在，函数必须通过调用才能被执行，函数调用的功能如下：

   * 实参数向形参数传递数据

   * 为参数和函数体内的变量分配内存空间

   * 中断当前函数的执行，把执行流程转向被调用函数的入口，执行被调用函数。

   函数调用通过调用表达式进行，其形式为:

   `函数名(实参表列)`

   当函数无返回值时，调用表达式后加分号，作为调用语句使用。当函数有返回值时，调用表达式作为其他表达式的一部分；函数调用结束后，返回到调用时的中断处，但形参的值不传递给实参，参数的传递是单向值传递

