# 结构体类型

#### 1. 结构体定义的一般形式

```c
struct 结构体类型名
{
    成员表列;
};
```

结构体类型名用来做为结构体类型的标志，在定义一个结构体类型时必须对各成员都进行类型说明，即：

`类型名 成员名;`

成员名的定义规则和变量名的定义规则相同。结构体的成员可以是简单变量、数组、指针、结构体、共用体

定义结构体的位置一般在所有函数开头，若在函数内定义则只适用于该函数内

#### 2. 结构体变量的定义

1. 先定义结构体类型再定义结构体变量

   ```c
   struct 结构体类型名
   {
       成员表列;
   };
   struct 结构体类型名 变量名表列;
   ```

2. 在定义结构体类型的同时定义结构体变量

   ```c
   struct 结构体类型名
   {
       成员表列;
   }变量名表列；
   ```

3. 直接定义结构体变量，无类型名

   ```c
   struct
   {
       成员表列;
   }变量名表列;
   ```

> **[info] 说明**
>
> 1. 第一种比较直观常用，形式二是形式一的简略形式，形式三只能在本文件内使用
> 2. 定义结构体类型时系统不会分配内存，定义了结构体变量时才会分配

#### 3. 结构体变量的初始化

在对结构体变量初始化时，按成员的顺序和类型依次对结构体的每个成员指定初始值

```c
struct student
{
    char num[10];
    char name[20];
    char sex;
    int age;
    float score[3];
    float ave
};
struct student stu1 = {"2019001","LiHua",'M',19,84.3,82.5,89.4,85.4}
```

> **[info] 说明**
>
> 1. 初始化数据间用逗号分隔
> 2. 初始化数据的个数一般与成员的个数相同，若小于成员数，则自动初始化为0或空格（字符型）
> 3. 初始化时数据的类型要与相应成员的类型一致
> 4. 初始化时只能对整个结构体变量进行，不能对结构体类型中的各成员进行初始化赋值

#### 4. 结构体类型变量成员的引用

一般形式为：

`结构体变量.成员`

其中`.`是结构体成员运算符，优先级别最高，结合性自左至右（吐槽：这跟Java里面的类好像没差）

> **[info] 说明**
>
> 1. 在C中不允许对结构体变量整体进行各种运算、赋值输入/输出操作，但对成员可以
> 2. 可以将一个结构体变量的值赋给另一个具有相同结构的结构体变量

#### 5. 结构体中的结构体成员

例如：

```c
struct Date
{
    int year;
    int month;
    int day;
};

struct student
{
    struct Date birthday;
}stu1;

stu1.birthday.year = 2000;
```

#### 6. 用typedef为结构体定义别名

为了将变量名简化，常用typedef为其定义一个新的别名

```c
typedef struct student ST;
ST stu1,stu2;
```

