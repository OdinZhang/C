# 类型转换

#### 1. 自动类型转换

* 非赋值运算的类型转换

  运算中char，short型都将转换成int型，所有unsigned short型转换成unsigned型，所有long型转换成unsigned long型，所有float型转成double，若数据类型仍不一致，则低级（占字节少的类型）向高级（占字节多的类型）转换

* 赋值运算的类型转换

  赋值运算符两边数据类型不同时，右侧向左侧转换

  例如

  ```c
  int a,j,y;
  float b;
  long d;
  double c;
  y = j + 'a' + a * b - c / d;
  ```

  其运算顺序和隐含的类型转换如下：

  1. 计算`a*b`，结果为double型
  2. 计算`c/d`，结果为double型
  3. 计算`j+'a'`，结果为整型
  4. 将1和3的结果相加，结果为double型
  5. 将第4步结果减第2步的结果，结果为double型
  6. 给y赋值，先将第5步的结果double型转成整型，截掉double的小数部分，压缩成int型

#### 2. 强制类型转换

一般形式为：`（类型名）（须强制转换的表达式）`

如：

```c
(double)b * 3; /*将b的值转换为double型*/
(int)(x) % a; /*将x的值转换成int型，再做%运算*/
(float)(5 % 3); /*将5%3的结果转换为float型*/
```

> **[warning] 注意**
>
> 类型转换是对值而不是对变量，如：
>
> `(double)x = 7;`变成了`((double)x) = 7;`，错误 
>
> 类型转换是一元运算符，优先级与一元运算符相同